# Project Tasks

- [x] Planning & Setup
  - [x] Create implementation plan
  - [x] Define dependencies in `requirements.txt`
- [x] Core Infrastructure
  - [x] Implement database setup (SQLite + FTS5) in `main.py`
  - [x] Implement PDF processing logic (text extraction, chunking)
  - [x] Implement policy ingestion on startup
- [x] Frontend Implementation
  - [x] Create `templates/index.html` with vanilla JS
  - [x] Update `main.py` to serve static HTML
- [x] Refine: Exact Citations & Reasoning
  - [x] Update `process_pdf` to include `total_pages` metadata
  - [x] Update Evaluation Prompt for Stability & Consistent "No" Evidence
  - [x] Update Frontend Header Styling (Filename, Pg X/Y, Italic Title)
  - [x] Migrate to Google GenAI SDK & Gemini 3 Models
  - [x] Configure "Thinking High" for Compliance Reasoning
  - [x] Verify Output Consistency
  - [x] Implement Long-Context Evaluation
- [x] API Implementation
  - [x] Create `/health` endpoint
  - [x] Create `/upload_questionnaire` endpoint (PDF to Questions JSON)
  - [x] Create `/evaluate` endpoint (Single question RAG)
  - [x] Create `/batch_evaluate` endpoint
  - [x] Configure Port for Render Deployment
